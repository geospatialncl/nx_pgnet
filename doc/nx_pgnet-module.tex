%
% API Documentation for NetworkX - PostGIS Python interface
% Module nx_pgnet
%
% Generated by epydoc 3.0.1
% [Wed Feb 15 10:34:12 2012]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{nx\_pgnet \textit{(module)}|(}
\section{Module nx\_pgnet}

    \label{nx_pgnet}
\begin{alltt}

--------
nx\_pgnet - NetworkX PostGIS network IO module (PostGIS network schema).
--------
nx\_pgnet is module for reading and writing NetworkX graphs to and from PostGIS 
tables as specified by the Newcastle University PostGIS network schema.

Note that the terms 'graph' and 'network' are used interchangeably within the 
software and documentation. To some extent a 'graph' refers to a topological 
object (often in memory) with none or limited attribution, whilst a 'network' 
refers to a graph object with attribution of edges and nodes and with 
geography defined, although this is not always the case.

nx\_pgnet operations

read: PostGIS (network schema) --{\textgreater} NetworkX

write: PostGIS (network schema) {\textless}-- NetworkX    

------------
Introduction
------------
NetworkX is a python library for graph analysis. Using edge and node 
attribution it can be used for spatial network analysis (with geography stored 
as node/edge attributes). This module supports the use of NetworkX for the
development of network analysis of spatial networks stored in a PostGIS 
spatial database by acting as an interface to a predefined table structure 
(the schema) in a PostGIS database from NetworkX Graph classes.

--------------
PostGIS Schema
--------------
This module assumes that the required PostGIS network schema is available 
within the target/source PostGIS database. The schema allows for a
collection of tables to represent a spatial network, storing
network geography and attributes. The definition of the schema and the 
associated scripts for network creation are outside the scope of this 
documentation however the schema can be briefly described as the following 
tables:
    - Graphs:
        Holds a reference to all networks in the database, referencing
        Edge, Edge\_Geometry and Node tables.

    - Edges:
        Holds a representation of a network edge by storing source and
        destination nodes and edge attributes. Contains foreign keys 
        to graph and edge geometry

    - Edge\_Geometry:
        Holds geometry (PostGIS binary LINESTRING/MULTILINESTRING 
        representation).
        Edge geometry is stored separately to edges for storage/retrieval 
        performance where more than one edge share the same geometry.
        
    - Interdependency:
        Holds interdependencies between networks. Not currently supported.
        
    - Interdependency\_Edges:
        Holds interdependency geometry. Not currently supported.

----------------
Module structure    
----------------
The module is split into three key classes:
    - read:
        Contains methods to read data from PostGIS network schema to a NetworkX 
        graph.
        
    - write:
        Contains methods to write a NetworkX graph to PostGIS network schema 
        tables.
        
    - nisql:
        Contains methods which act as a wrapper to the special PostGIS network 
        schema functions. 
        Note: do not use this class unless you know what you are
        doing! Use the higher-level read/write functions results in less chance
        of breaking your networks.
        
    - errors:
        Class containing error catching, reporting and logging methods. 
        Note: Not yet implemented.

Detailed documentation for each class can be found below contained in class 
document strings. The highest level functions for reading and writing data are:

    Read:    
    nx\_pgnet.read().pgnet()
    Reads a network from PostGIS network schema into a NetworkX graph instance.
    
    Write:
    nx\_pgnet.write().pgnet()
    Writes a NetworkX graph instance to PostGIS network schema tables.
    
--------------------
Database connections
--------------------
Connections to PostGIS are created using the OGR simple feature library and are
passed to the read() and write() classes. See http://www.gdal.ogr/ogr

Connections are mutually exclusive between read() and write() and are contained 
within each class (i.e. all methods within those classes inherit the :
connection), although you can of course read and write to the same database. 
You must pass a valid connection to the read or write classes for the module 
to work.

To create a connection using the OGR Python (SWIG) OGR bindings to a database
on localhost:
    
    import osgeo.ogr as ogr
    conn = ogr.Open("PG: host='127.0.0.1' dbname='database' user='postgres'
                    password='password'")
    
--------
Examples
--------
The following are examples of high level read and write network operations. For
more detailed information see method documentation below.

Reading a network from PostGIS schema to a NetworkX graph instance:
    
    import nx\_pgnet
    import osgeo.ogr as ogr
    
    \# Create a connection
    conn = ogr.Open("PG: host='127.0.0.1' dbname='database' user='postgres'
                    password='password'")

    \# Read a network
    \# Note 'my\_network' is the name of the network stored in the 'Graphs' table
    
    network = nx\_pgnet.read(conn).pgnet('my\_network')    

Writing a NetworkX graph instance to a PostGIS schema:
    
    \# Write the network to the same database but under a different name.
    \# Note 'EPSG' id the epsg code for the output network geometry.
    \# Note if 'overwrite=True' then an existing network in the database of the 
    \# same name will be overwritten.
    
    epsg = 27700
    nx\_pgnet.write(conn).pgnet(network, 'new\_network', epsg, overwrite=False)

------------
Dependencies
------------
Python 2.6 or later
NetworkX 1.6 or later
OGR 1.8.0 or later

-------------
Copyright (C)
-------------
Tomas Holderness / Newcastle University

Developed by Tom Holderness at Newcastle University School of Civil Engineering
and Geosciences, geoinfomatics group:

David Alderson, Alistair Ford, Stuart Barr, Craig Robson.

-------
License
-------
This software is released under a BSD style license. See LICENSE.TXT or type
nx\_pgnet.license() for full details.

-------
Credits
-------
Tomas Holderness, David Alderson, Alistair Ford, Stuart Barr and Craig Robson.

-------
Contact
-------
tom.holderness@ncl.ac.uk
www.staff.ncl.ac.uk/tom.holderness

-----------------
Development Notes
-----------------
Where possible the PEP8/PEP257 style guide has been implemented.
To do:
    1) Check attribution of nodes from schema and non-schema sources 
    (blank old id fields are being copied over).
    2) Error  / warnings module.
    3) Investigate bug: "Warning 1: Geometry to be inserted is of type 
    Line String, whereas the layer geometry type is Multi Line String.
    Insertion is likely to fail!"
    3) Multi and directed graph support.
    4) 3D geometry support.
    
\end{alltt}

\textbf{Version:} 0.9.2



\textbf{Author:} Tomas Holderness (tom.holderness@ncl.ac.uk)
David Alderson (david.alderson@ncl.ac.uk)
Alistair Ford (a.c.ford@ncl.ac.uk)
Stuart Barr (stuart.barr@ncl.ac.uk)



\textbf{License:} BSD style. See LICENSE.TXT




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Variables                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Variables}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright \_\-\_\-c\-r\-e\-a\-t\-e\-d\-\_\-\_\- & \raggedright \textbf{Value:} 
{\tt \texttt{'}\texttt{January 2012}\texttt{'}}&\\
\cline{1-2}
\raggedright \_\-\_\-p\-a\-c\-k\-a\-g\-e\-\_\-\_\- & \raggedright \textbf{Value:} 
{\tt None}&\\
\cline{1-2}
\end{longtable}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.net\_error \textit{(class)}|(}
\subsection{Class net\_error}

    \label{nx_pgnet:net_error}
Class to handle network IO errors.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \label{nx_pgnet:net_error:__init__}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.net\_error \textit{(class)}!nx\_pgnet.net\_error.\_\_init\_\_ \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self})

\setlength{\parskip}{2ex}
\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:net_error:connection_error}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.net\_error \textit{(class)}!nx\_pgnet.net\_error.connection\_error \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{connection\_error}(\textit{self})

\setlength{\parskip}{2ex}
\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.net\_error \textit{(class)}|)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}|(}
\subsection{Class nisql}

    \label{nx_pgnet:nisql}
Contains wrappers for PostGIS network schema functions.

Where possible avoid using this class directly. Uses the read and write 
classes instead.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \label{nx_pgnet:nisql:__init__}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}!nx\_pgnet.nisql.\_\_init\_\_ \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{db\_conn})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Setup connection to be inherited by methods.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:nisql:create_network_tables}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}!nx\_pgnet.nisql.create\_network\_tables \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{create\_network\_tables}(\textit{self}, \textit{prefix}, \textit{epsg})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Wrapper for ni\_create\_network\_tables function.

    Creates empty network schema PostGIS tables. Requires graph 'prefix 
    'name and srid to create empty network schema PostGIS tables.

    Returns True if succesful.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:nisql:create_edge_view}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}!nx\_pgnet.nisql.create\_edge\_view \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{create\_edge\_view}(\textit{self}, \textit{prefix})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Wrapper for ni\_create\_edge\_view function.

    Creates a view containing edge attributes and edge geometry values. 
    Requires network name ('prefix').

    Returns view name if succesful.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:nisql:add_graph_record}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}!nx\_pgnet.nisql.add\_graph\_record \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{add\_graph\_record}(\textit{self}, \textit{prefix}, \textit{directed}={\tt False}, \textit{multipath}={\tt False})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Wrapper for ni\_add\_graph\_record function.

    Creates a record in the Graphs table based on graph attributes.

    Returns new graph id of succesful.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:nisql:node_geometry_equaility_check}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}!nx\_pgnet.nisql.node\_geometry\_equaility\_check \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{node\_geometry\_equaility\_check}(\textit{self}, \textit{prefix}, \textit{wkt}, \textit{srs})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Wrapper for ni\_node\_geometry\_equality\_check function.

    Checks if geometry already eixsts in nodes table.

    If not, returns None

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:nisql:edge_geometry_equaility_check}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}!nx\_pgnet.nisql.edge\_geometry\_equaility\_check \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{edge\_geometry\_equaility\_check}(\textit{self}, \textit{prefix}, \textit{wkt}, \textit{srs})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Wrapper for ni\_edge\_geometry\_equality\_check function.

    Checks if geometry already eixsts in nodes table.

    If not, return None

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:nisql:delete_network}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}!nx\_pgnet.nisql.delete\_network \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{delete\_network}(\textit{self}, \textit{prefix})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Wrapper for ni\_delete\_network function.

    Deletes a network entry from the Graphs table and drops associated 
    tables.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.nisql \textit{(class)}|)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}|(}
\subsection{Class read}

    \label{nx_pgnet:read}
Class to read and build networks from PostGIS schema network tables.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \label{nx_pgnet:read:__init__}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}!nx\_pgnet.read.\_\_init\_\_ \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{db\_conn})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Setup connection to be inherited by methods.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:read:getfieldinfo}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}!nx\_pgnet.read.getfieldinfo \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{getfieldinfo}(\textit{self}, \textit{lyr}, \textit{feature}, \textit{flds})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Get information about fields from a table (as OGR feature).

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:read:pgnet_edges}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}!nx\_pgnet.read.pgnet\_edges \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{pgnet\_edges}(\textit{self}, \textit{graph})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Reads edges from edge and edge\_geometry tables and add to graph.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:read:pgnet_nodes}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}!nx\_pgnet.read.pgnet\_nodes \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{pgnet\_nodes}(\textit{self}, \textit{graph})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Reads nodes from node table and add to graph.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:read:graph_table}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}!nx\_pgnet.read.graph\_table \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{graph\_table}(\textit{self}, \textit{prefix})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Reads the attributes of a graph from the graph table.

    Returns attributes as a dict of variables.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:read:pgnet}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}!nx\_pgnet.read.pgnet \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{pgnet}(\textit{self}, \textit{prefix})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Read a network from PostGIS network schema tables.

    Returns instance of networkx.Graph().

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.read \textit{(class)}|)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}|(}
\subsection{Class write}

    \label{nx_pgnet:write}
Class to write NetworkX instance to PostGIS network schema tables.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \label{nx_pgnet:write:__init__}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.\_\_init\_\_ \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{db\_conn})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Setup connection to be inherited by methods.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:getlayer}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.getlayer \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{getlayer}(\textit{self}, \textit{tablename})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Get a PostGIS table by name and return as OGR layer.

    Else, return None.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:netgeometry}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.netgeometry \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{netgeometry}(\textit{self}, \textit{key}, \textit{data})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Create OGR geometry from a NetworkX Graph using Wkb/Wkt attributes.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:create_feature}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.create\_feature \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{create\_feature}(\textit{self}, \textit{lyr}, \textit{attributes}={\tt None}, \textit{geometry}={\tt None})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Wrapper for OGR CreateFeature function.

    Creates a feature in the specified table with geometry and attributes.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:create_attribute_map}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.create\_attribute\_map \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{create\_attribute\_map}(\textit{self}, \textit{lyr}, \textit{g\_obj}, \textit{fields})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Build a dict of attribute field names, data and OGR data types.

    Accepts graph object (either node or edge), fields and returns 
    attribute dictionary.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:update_graph_table}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.update\_graph\_table \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{update\_graph\_table}(\textit{self}, \textit{graph})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Update the Graph table and return newly assigned Graph ID.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:pgnet_edge}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.pgnet\_edge \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{pgnet\_edge}(\textit{self}, \textit{edge\_attributes}, \textit{edge\_geom})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Write an edge to Edge and Edge\_Geometry tables.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:pgnet_node}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.pgnet\_node \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{pgnet\_node}(\textit{self}, \textit{node\_attributes}, \textit{node\_geom})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Write a node to a Node table.

    Return the newly assigned NodeID.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{nx_pgnet:write:pgnet}
    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}!nx\_pgnet.write.pgnet \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{pgnet}(\textit{self}, \textit{network}, \textit{tablename\_prefix}, \textit{srs}, \textit{overwrite}={\tt False})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Write NetworkX instance to PostGIS network schema tables.

    Updates Graph table with new network.

    Note that schema constrains must be applied in database. There are no 
    checks for database errors here.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \index{nx\_pgnet \textit{(module)}!nx\_pgnet.write \textit{(class)}|)}
    \index{nx\_pgnet \textit{(module)}|)}
